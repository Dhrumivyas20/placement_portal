{% extends "base.html" %}

{% block title %}Drive Details{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg p-4">
        <h2 class="mb-3">{{ drive.title }}</h2>
        <hr>

        <p><strong>Company:</strong> {{ drive.company.company_name }}</p>
        <p><strong>Industry:</strong> {{ drive.company.industry }}</p>
        <p><strong>Location:</strong> {{ drive.location }}</p>
        <p><strong>Salary Package:</strong> {{ drive.salary }}</p>
        <p><strong>Posted On:</strong> {{ drive.posted_date.strftime('%d %b %Y') }}</p>
        <p><strong>Application Deadline:</strong> {{ drive.deadline.strftime('%d %b %Y') }}</p>

        <hr>

        <h5>Description</h5>
        <p>{{ drive.description }}</p>

        <hr>

        <p>
            <strong>Status:</strong>
            {% if drive.is_approved %}
                <span class="badge bg-success">Approved</span>
            {% elif drive.is_rejected %}
                <span class="badge bg-danger">Rejected</span>
            {% else %}
                <span class="badge bg-warning text-dark">Pending</span>
            {% endif %}
        </p>

        <div class="mt-3">
            {% if not drive.is_approved and not drive.is_rejected %}
                <a href="{{ url_for('approve_drive', drive_id=drive.id) }}" 
                   class="btn btn-success me-2">
                   Approve
                </a>

                <a href="{{ url_for('reject_drive', drive_id=drive.id) }}" 
                   class="btn btn-danger">
                   Reject
                </a>
            {% else %}
                <button class="btn btn-secondary" disabled>
                    Action Completed
                </button>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
